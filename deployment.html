<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Napta (نبتة) | Deployment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="sidebar">
        <h1><i class="fas fa-leaf"></i> Napta Web</h1>
        <nav>
            <ul>
                <li><a href="index.html" class="nav-link"><i class="fas fa-fw fa-home"></i> Home</a></li>
                <li><a href="overview.html" class="nav-link"><i class="fas fa-fw fa-info-circle"></i> Overview</a></li>
                <li><a href="architecture.html" class="nav-link"><i class="fas fa-fw fa-sitemap"></i> Architecture</a></li>
                <li><a href="tech_stack.html" class="nav-link"><i class="fas fa-fw fa-cogs"></i> Tech Stack</a></li>
                <li>
                    <a href="#" class="nav-link"><i class="fas fa-fw fa-star"></i> Core Features</a>
                    <ul class="sub-menu">
                        <li><a href="feature_ai_diagnosis.html" class="nav-link"><i class="fas fa-fw fa-brain"></i> AI Plant Diagnosis</a></li>
                        <li><a href="feature_community.html" class="nav-link"><i class="fas fa-fw fa-users"></i> Community Platform</a></li>
                        <li><a href="feature_marketplace.html" class="nav-link"><i class="fas fa-fw fa-shopping-cart"></i> Marketplace</a></li>
                        <li><a href="feature_profile.html" class="nav-link"><i class="fas fa-fw fa-user-circle"></i> User Profiles</a></li>
                    </ul>
                </li>
                <li><a href="ui_design.html" class="nav-link"><i class="fas fa-fw fa-palette"></i> UI/UX Design</a></li>
                <li><a href="api_integration.html" class="nav-link"><i class="fas fa-fw fa-plug"></i> API Integration</a></li>
                <li><a href="deployment.html" class="nav-link active"><i class="fas fa-fw fa-rocket"></i> Deployment</a></li>
                <li><a href="team.html" class="nav-link"><i class="fas fa-fw fa-people-group"></i> Team</a></li>
            </ul>
        </nav>
    </div>

    <div class="main-content">
        <header>
            <h2>Deployment & Hosting</h2>
            <p>Netlify Configuration and Production Setup</p>
        </header>

        <section>
            <h3><i class="fas fa-server"></i> Netlify Hosting</h3>
            <p>
                Napta is deployed on Netlify, providing enterprise-grade hosting with global CDN, automatic HTTPS, 
                continuous deployment from GitHub, and instant rollbacks. The platform handles over 100 billion 
                requests per month with 99.99% uptime.
            </p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-globe"></i>
                    <h4>Global CDN</h4>
                    <p>Edge Network</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-lock"></i>
                    <h4>Auto HTTPS</h4>
                    <p>SSL Certificate</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-rocket"></i>
                    <h4>CI/CD</h4>
                    <p>Auto Deploy</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h4>99.99%</h4>
                    <p>Uptime SLA</p>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-cogs"></i> Netlify Configuration</h3>
            
            <h4>netlify.toml</h4>
            <pre>
[build]
  command = "npm run build"
  publish = "dist"
  
[build.environment]
  NODE_VERSION = "18"

# SPA Routing - Catch-all redirect
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Marketplace specific routes
[[redirects]]
  from = "/marketplace/seller/*"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/payment/*"
  to = "/index.html"
  status = 200

# Custom headers for security
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    
# Cache static assets
[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
            </pre>
            
            <h4>public/_redirects</h4>
            <pre>
# SPA Routes - specific paths
/marketplace/seller/register    /index.html   200
/marketplace/seller/dashboard   /index.html   200
/marketplace/seller/shop        /index.html   200
/payment/success               /index.html   200
/payment/cancel                /index.html   200

# Catch-all rule for SPA routing - must be last
/*                             /index.html   200
            </pre>
        </section>

        <section>
            <h3><i class="fas fa-code-branch"></i> CI/CD Pipeline</h3>
            
            <div class="roadmap-timeline">
                <div class="roadmap-item">
                    <h4>1. Git Push</h4>
                    <p>Developer pushes code to GitHub main branch, triggering automatic deployment.</p>
                </div>
                
                <div class="roadmap-item">
                    <h4>2. Build Trigger</h4>
                    <p>Netlify detects changes via webhook, starts build process automatically.</p>
                </div>
                
                <div class="roadmap-item">
                    <h4>3. Dependency Installation</h4>
                    <p>npm install runs to fetch all project dependencies from package.json.</p>
                </div>
                
                <div class="roadmap-item">
                    <h4>4. Build Process</h4>
                    <p>Vite builds optimized production bundle with tree-shaking and minification.</p>
                </div>
                
                <div class="roadmap-item">
                    <h4>5. Deploy to CDN</h4>
                    <p>Built files distributed to global edge network for fast worldwide access.</p>
                </div>
                
                <div class="roadmap-item">
                    <h4>6. Live Production</h4>
                    <p>Site goes live at naaptaa.netlify.app with automatic HTTPS certificate.</p>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-shield-alt"></i> Custom 404 Page</h3>
            
            <p><strong>Problem:</strong> Netlify was showing default 404 instead of custom React component.</p>
            
            <p><strong>Solution:</strong> Catch-all redirect rule ensures React Router handles all routes:</p>
            
            <ul class="feature-list">
                <li><strong>Status 200</strong> - Rewrite (not redirect) preserves original URL</li>
                <li><strong>Order Matters</strong> - Specific routes first, catch-all last</li>
                <li><strong>React Router</strong> - Handles unknown routes with custom 404 component</li>
                <li><strong>Plant-Themed Design</strong> - Beautiful 404 page with animations and CTAs</li>
                <li><strong>SEO Friendly</strong> - Proper HTTP status codes for search engines</li>
            </ul>
            
            <pre>
// React Router configuration
<Routes>
  {/* All defined routes */}
  <Route path="/" element={<WelcomePage />} />
  <Route path="/scan" element={<ProtectedRoute><ScanPage /></ProtectedRoute>} />
  <Route path="/community" element={<Community />} />
  
  {/* Catch-all for 404 */}
  <Route path="*" element={<NotFound />} />
</Routes>
            </pre>
        </section>

        <section>
            <h3><i class="fas fa-key"></i> Environment Variables</h3>
            
            <p>Sensitive credentials managed through Netlify environment variables:</p>
            
            <pre>
# Netlify Environment Variables Configuration

# Firebase Configuration
VITE_FIREBASE_API_KEY=AIzaSy...
VITE_FIREBASE_AUTH_DOMAIN=napta-app.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=napta-app
VITE_FIREBASE_STORAGE_BUCKET=napta-app.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123:web:abc123
VITE_FIREBASE_DATABASE_URL=https://napta-app.firebaseio.com

# Google Gemini AI Keys (7 keys for load balancing)
VITE_GEMINI_API_KEY_1=AIzaSyCZzGJDZrgUlTEj3iRGmjxCT0Q7TBHmYSM
VITE_GEMINI_API_KEY_2=AIzaSyBCRnp2S6NJiH0r3FZlwwp1t5iGJoAy8yA
VITE_GEMINI_API_KEY_3=AIzaSyBdGE1S7SLo0UcMh5DH7q6sR3PavxZ2KpE
VITE_GEMINI_API_KEY_4=AIzaSyBIhMXLnqLgJrKlwxYWvH4eHOPPuW8-hck
VITE_GEMINI_API_KEY_5=AIzaSyC7iP6J8mRZbUx8n5QW2Jk9YNmP3XsT1wQ
VITE_GEMINI_API_KEY_6=AIzaSyDXkZ5yN8rYvP4Qm7bS2cT9xH6jK1wL4eM
VITE_GEMINI_API_KEY_7=AIzaSyEW9mK3nV6pR7sT2dY8hJ4zB1qN5xC0oF

# ImgBB API
VITE_IMGBB_API_KEY=4b69ea9c24dcfbfab5b8d4dc3784b006

# PayPal Configuration
VITE_PAYPAL_CLIENT_ID=your_paypal_client_id
VITE_PAYPAL_MODE=sandbox
            </pre>
        </section>

        <section>
            <h3><i class="fas fa-tachometer-alt"></i> Performance Optimization</h3>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-compress"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Asset Optimization</h4>
                        <p>Vite automatically minifies JavaScript, CSS, and optimizes images during build.</p>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-scissors"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Tree Shaking</h4>
                        <p>Removes unused code from final bundle, reducing JavaScript size by 30-50%.</p>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Code Splitting</h4>
                        <p>Dynamic imports create separate chunks for faster initial page load.</p>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Edge Caching</h4>
                        <p>Netlify CDN caches static assets globally for sub-50ms response times.</p>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-chart-bar"></i> Build Statistics</h3>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-file-code"></i>
                    <h4>~800KB</h4>
                    <p>Total Bundle Size</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h4>~45s</h4>
                    <p>Build Time</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-cubes"></i>
                    <h4>12</h4>
                    <p>Code Chunks</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-compress-arrows-alt"></i>
                    <h4>65%</h4>
                    <p>Size Reduction</p>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-shield-halved"></i> Security Headers</h3>
            
            <ul class="feature-list">
                <li><strong>X-Frame-Options: DENY</strong> - Prevents clickjacking attacks</li>
                <li><strong>X-XSS-Protection</strong> - Enables browser XSS filtering</li>
                <li><strong>X-Content-Type-Options: nosniff</strong> - Prevents MIME type sniffing</li>
                <li><strong>Referrer-Policy</strong> - Controls referrer information in requests</li>
                <li><strong>Content-Security-Policy</strong> - Restricts resource loading sources</li>
                <li><strong>Strict-Transport-Security</strong> - Forces HTTPS connections</li>
            </ul>
        </section>

        <section>
            <h3><i class="fas fa-history"></i> Version Control & Rollback</h3>
            
            <div class="highlights-grid">
                <div class="highlight-item">
                    <div class="highlight-icon">
                        <i class="fab fa-github"></i>
                    </div>
                    <div>
                        <h4>GitHub Integration</h4>
                        <p>Automatic deployments from main branch with commit-based versioning</p>
                    </div>
                </div>
                
                <div class="highlight-item">
                    <div class="highlight-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div>
                        <h4>Deploy History</h4>
                        <p>Complete history of all deployments with timestamps and commit info</p>
                    </div>
                </div>
                
                <div class="highlight-item">
                    <div class="highlight-icon">
                        <i class="fas fa-undo"></i>
                    </div>
                    <div>
                        <h4>Instant Rollback</h4>
                        <p>One-click rollback to any previous deployment within seconds</p>
                    </div>
                </div>
                
                <div class="highlight-item">
                    <div class="highlight-icon">
                        <i class="fas fa-code-branch"></i>
                    </div>
                    <div>
                        <h4>Preview Deploys</h4>
                        <p>Automatic preview deployments for pull requests and branches</p>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-link"></i> Production URLs</h3>
            
            <div class="version-info">
                <div class="version-badge">
                    <span class="label">Primary URL</span>
                    <span class="value">naaptaa.netlify.app</span>
                </div>
                <div class="version-badge">
                    <span class="label">Status</span>
                    <span class="value">Live</span>
                </div>
                <div class="version-badge">
                    <span class="label">SSL</span>
                    <span class="value">Auto HTTPS</span>
                </div>
                <div class="version-badge">
                    <span class="label">CDN</span>
                    <span class="value">Global Edge</span>
                </div>
            </div>
        </section>

        <section>
            <h3><i class="fas fa-wrench"></i> Deployment Commands</h3>
            
            <pre>
# Local development
npm run dev

# Production build
npm run build

# Preview production build locally
npm run preview

# Lint code
npm run lint

# Type check
npx tsc --noEmit

# Deploy to Netlify (manual)
netlify deploy --prod
            </pre>
        </section>

    </div>

    <script src="script.js"></script>
</body>
</html>
